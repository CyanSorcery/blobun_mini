function part_create(_x,_y,_spd,_dir,_col,_time)add(g_list_part,{x=_x,y=_y,spd=_spd,dir=_dir,col=_col,time_max=_time,time=_time})end function part_create_slime_explode(_x,_y,_col)local _xfin,_yfin,_deg for i=0,.9,.1do _xfin,_yfin,_deg=_x+cos(i)*4,_y+sin(i)*4,i*360part_create(_xfin,_yfin,.9,_deg,rnd(_col),12)part_create(_xfin,_yfin,1.8,_deg,rnd(_col),8)end end function part_create_octogem(_x1,_y1,_x2,_y2)for i=0,.8,.2do part_create(lerp(_x1,_x2,i),lerp(_y1,_y2,i),0,0,14,lerp(5,12,i))end part_create_item_grab(_x2,_y2,{14,7})end function part_create_item_grab(_x,_y,_col)for i=0,.9,.1do part_create(_x+cos(i)*4,_y+sin(i)*4,.8,i*360,rnd(_col),8)end end function proc_particles()for _part in all(g_list_part)do local _factor=_part.dir/360_part.x+=_part.spd*cos(_factor)_part.y+=_part.spd*sin(_factor)_part.time-=1if(_part.time<=0)del(g_list_part,_part)
end end function draw_particles()for _part in all(g_list_part)do pal(7,_part.col)spr(flr(lerp(163,161,_part.time/_part.time_max)+.5),_part.x,_part.y)end end